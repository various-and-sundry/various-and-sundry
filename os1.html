<!doctype html>
<html lang="en">

<head>
   <title>Primary Operating System &mdash; 2021</title>
   <link href="style.css" type="text/css" rel="stylesheet">
   <link rel="shortcut icon" type="image/png" href="icons/favicon.png">
</head>
<body>
   <div id="navbar">
      <img src="icons/banner-logo.png" alt="" id="banner">
      <!-- Nav bar section -->
         <nav>
            <ul>
               <li><a href="index.html">Home</a></li>
               <li><a href="robots.html">Various Robots</a></li>
               <li><a href="projects.html">Sundry Projects</a></li>
               <li><a href="more.html">More</a></li>
               <li><a href="about.html">About</a></li>
            </ul>
         </nav>
   </div>
   <div id="main">
      <h1>My Primary Operating System &mdash; 2021</h1>
      <img src="images/operating_systems/1/operating_system--emacs_mixer_firefox.png" alt="Screenshot of Window Manger" class="centimage">

      
      <br><br><hr>


      
      <h2>Operating System and Hardware</h2>
      <h3>Operating System Type</h3>
      <p>I currently use <a href="https://debian.org">Debian 10</a>, specifically <code>Debian-live-10.6.0-amd64-standard+nonfree</code>, which I installed in 2020. I am not pleased that I used a nonfree version of Debian, but I did so because of past difficulty configuring Wi-Fi. Even when using the nonfree version&mdash;with its preinstalled, proprietary drivers&mdash;it took some time to properly connect to a network. I documented the process, and in the future, I should be able to configure Wi-Fi on free Debian. In fact I have now done so on another Debian USB stick, but it forces me to manually activate Wi-Fi upon each boot. Assuming that I choose Debian when I eventually reinstall my main operating system, I will use a free version, but I will probably install a proprietary wireless driver.</p>
      
      <h3>Installed to an External USB Drive</h3>
      <p>The operating system is not installed to an internal hard drive. It is installed to a <a href="https://www.amazon.com/SanDisk-64GB-Cruzer-Flash-Drive/dp/B07MDXBTL1/ref=sr_1_7">SanDisk 64GB Cruzer Fit USB 2.0 Flash Drive</a> with persistence. In the past, I always used persistent USB drives of 16 Gigabytes or less, but this time I chose a 64 Gigabyte drive because it happen to be available to me when I installed the operating system. It also has a very portable form factor.</p>.
      
      <h3>Installation and Persistence</h3>
      <p>I have not found a way of creating a persistent Debian USB stick using only dd, so I created this one with <a href="https://help.ubuntu.com/community/mkusb">mkusb</a>. As far as I know, mkusb can only be installed to <a href="https://ubuntu.com/">Ubuntu</a>systems, but it can be used to create either persistent Debian or Ubuntu USB sticks. It allows for an extra FAT partition to be added to the drive which allows a portion of the drive to be accessed as if it were a standard removable storage volume. I allocated 10 Gigabytes for this purpose, but I have never used them. In fact, I never tested them. It seems like a useful feature because it would prevent me for having to carry both a storage USB stick and bootable USB stick. However, since I am at home in the middle of a pandemic, portability is not particularly important right now.</p>

      <h3>Why A 64bit Persistent USB Drive</h3>	
      <p>Using a persistent USB stick as a primary operating system is unusual, but its portability provides me with the option of basically carrying my computer anywhere in my pocket. Up until now I have almost exclusively used 32bit bootable operating systems so that I could use them on almost any computer. However, this time I used a 64bit operating system because I had to use Android Studio, which is a program that I do not like and does not support 32bit architecture. Out of the three 64bit machines on which I have attempted to boot it, only one worked. That prevents it from being effectively portable, unlike most of the bootable USB sticks that I have used in the past. Anyhow, portability is not particularly useful during this pandemic.</p>
      <p>A reason for using an external USB drive, which is relevant even during a pandemic, is that I do not own the computer which I have been primarily using. Windows 7 (which is no longer supported by M$) is installed on its internal hard drive. I cannot overwrite Windows because I do not own the computer. However, I can use Debian on my external USB drive. Even though I am using USB 2.0, it still boots in under one minute, which is significantly faster than when booting Windows.</p>



      <br><hr>





      <h2>System Configuration</h2>

      <h3>Window Manager &mdash; i3</h3>
      <p>My window manager is currently <a href="https://www.i3wm.org">i3</a>. It is the first and only tiling window manager that I have used. I chose it over other tiling window managers because it is written in <a href="http://www.catb.org/jargon/html/C/C.html">C</a> (fast/efficient), its configuration files are not written in Lua (Why would they be?), and it seemed easy to install (i.e. not dwm). I first tried it on another Debian installation, which required something light. Rather than installing <a href="https://www.lxde.org/">LXDE</a> or <a href="https://xfce.org/">XFCE</a>, I tried i3. I assumed that using it would be a fun experience for a few months.</p>
<p>Unsurprisingly, this is how I installed Xorg and i3.</p>

      <div class="term">
	<code class="prompt">user@debian:~$</code> <code class="command">sudo apt-get install xorg</code>
	<br>
	<code class="prompt">user@debian:~$</code> <code class="command">sudo apt-get install i3</code>
	<div>
	</div>
      </div>

      <p>After using i3 for several months, it I still did not think that it provided any real benefits. Then, I tried to move back to LXDE. Wow, it felt arduous. I had not realized how much more efficient I had become when using i3. I am now using i3 as my primary window manager, and I think that tiling window managers are much more efficient (in more cases) and easy to use (easy to use != easy to learn) than stacking window managers. Stacked/floating windows are useful sometimes, but i3 is capable of creating floating windows when necessary. I am sure that other tiling window managers are very good, and I will probably try <a href="http://dwm.suckless.org">dwm</a> in the future.</p>
<p>I use the default i3 keybindings, with the Windows key as the $mod key. I think that the default keybindings are fine, which is probably why they are the defaults. It is slightly confusing that the movement keybindings are slightly different than vim's ('j', 'k', 'l', and ';' instead of 'h', 'j', 'k', and 'l'). I do find that to be confusing, but I do not like to unnecessarily change keybindings because if I become accustom to nonstandard keybindings and then use some other installation of i3, I will become confused. Then again, it is not often that I find myself using other people's i3 installations. As far as I know, I have not yet met another person who even knows what i3 is.</p>
<p>When daylight saving time began, the clock on my i3 status bar did not move forwards an hour even though the system time had been updated. I solved that by opening my <code>/etc/13statis.conf</code> file and commenting-out the line that specified which time zone is to be used. I suppose that this caused it to default to the system time.</p>

      <div class="term">
	<div>
	  <code>tztime local {</code><br>
	  <code>#&emsp;&emsp;timezone = "EST"</code><br>
	  <code>&emsp;&emsp;&emsp;format = "%Y-%m-%d %I:%M:%S"</code><br>
	  <code>}</code><br>
	</div>
      </div>

<p>For some strange reason, the color scheme of the default terminal emulator (mlterm) is black on white. I have changed it to white on black, which is much nicer for my eyes. This change can be made with in the <code>/etc/mlterm/main</code> configuration file. <code>fg_color=black</code> and <code>bg_color=white</code> needed to be uncommented, and then I switched their colors. I also reduced the font size to 14 and removed the scrollbar.</p>

      <div class="term">
	<code class="prompt">user@debian:~$</code> <code class="command">sudo sudo vi /etc/mlterm/main</code>
	<div>
	</div>
      </div>

      <img src="images/operating_systems/1/terminal_colors.png" alt="Example of Inverted Terminal Colors" class="centimage">
      <br><br><br>



      <h3>Setting Up Wi-Fi</h3>
<p>I used a nonfree version of Debian, so I did not need to install any Wi-Fi drivers. Next time I install Debian, I will use the free versions.</p>
<p>Even with preinstalled drivers, I had difficulty connecting to a network. I issued all of the commands seen below, and then Debian connected to the network. Most of those commands probably did not do anything useful. I have underlined the commands that I believe actually connected the system to the network, but I could be wrong. A few of the other commands might be helpful to see whether the wireless card is properly configured.</p>
<p>Next time I install Debian, I hope to better understand how to connect to a network. I will then document the process in a future article</p>

  <div class="term">
    <code class="prompt">users@debian:~$</code> <code class="command">sudo wpa_supplicant -iwlp3s0 -c/etc/wpa_supplicant.conf -B</code><br><br>
	      <code class="prompt">user@debian:~$</code> <code class="command"><u>sudo apt-get install network-manager</u></code><br>
	      <code class="prompt">user@debian:~$</code> <code class="command"><u>sudo systemctl start network-manager.service</u></code><br>
	      <code class="prompt">user@debian:~$</code> <code class="command">nmcli general status</code><br>
	      <code class="prompt">user@debian:~$</code> <code class="command">nmcli connection show </code><br>
	      <code class="prompt">user@debian:~$</code> <code class="command">nmcli device status</code><br>
	      <code class="prompt">user@debian:~$</code> <code class="command">nmcli dev wifi list</code><br>
	      <code class="prompt">user@debian:~$</code> <code class="command">nmcli con add con-name WiFi ifname wlp3s0 type wifi ssid <font color="red">network name</font></code><br>
	      <code class="prompt">user@debian:~$</code> <code class="command">nmcli con modify WiFi wifi-sec.psk <font color="red">network password</font></code><br><br>

	      <code class="prompt">user@debian:~$</code> <code class="command">nmcli connection add type wifi con-name "<font color="red">network name</font>" ifname wlp3s0 ssid "<font color="red">network name</font>" -- wifi-sec.key-mgmt wpa-eap 802-1x.eap tls 802-1x.identity "<font color="red">network password</font>" 802-1x.ca-cert ~/ca.pem 802-1x.client-cert ~/cert.per 802-1x.private-key-password "<font color="red">network password</font>" 802-1x.private-key ~key.pem</code><br><br>

	      <code class="prompt">user@debian:~$</code> <code class="command">nmcli connection </code><br>
	      <code class="prompt">user@debian:~$</code> <code class="command">nmcli device wifi connect <font color="red">network name</font> <font color="red">network password</font></code><br>
	      <code class="prompt">user@debian:~$</code> <code class="command">nmcli device wifi connect <font color="red">network name</font> password <font color="red">network password</font></code><br>
	      <code class="prompt">user@debian:~$</code> <code class="command">ping debian.org</code><br>
	      <code class="prompt">user@debian:~$</code> <code class="command"><u>nmcli radio wifi on</u></code><br>
	      <code class="prompt">user@debian:~$</code> <code class="command"><u>nmcli device wifi connect <font color="red">network name</font> password <font color="red">network password</font></u></code><br>
	      <code class="prompt">user@debian:~$</code> <code class="command">ping debian.org</code><br>
	<div>
	</div>
      </div>
<br><br><br>

  <h3>Configuring /etc/fstab</h3>
<p>I configured my <code>/etc/fstab</code> file so that my USB drives can be mounted automatically. For example, my primary storage drive mounts to <code>/media/j</code> and my photos drive mounts to <code>/media/p</code>.</p>
<p>They are automatically mounted when the system boots or when I tell the system to mount everything that it recognizes. If I plug a drive in and do nothing, it will not automatically mount. Even when I do tell it to mount everything, it will only mount drives that I have explicitly listed in <code>/etc/fstab</code>. If I need to use a drive that I have not listed in <code>/etc/fstab</code>, I have to mount it manually. That can be somewhat inconvenient, and I may look for an alternative in the future.</p>

<p>As an example, here is how I would configure the system to automatically mount my main drive.</p>
<p>First, I make sure that <code>/media</code> and <code>/mnt</code> are accessible to all users. I do not want to have to use <code>sudo</code> to access mounted drives.</p>
  <div class="term">
      <code class="prompt">user@debian:~$</code> <code class="command">sudo chmod 777 /media</code><br>
      <code class="prompt">user@debian:~$</code> <code class="command">sudo chmod 777 /mnt</code><br>
      <div>
      </div>
  </div>

<p>Then, I create a mount point for the drive. In this case, I chose <code>/media/j</code>, the most accessible letter on the qwerty keyboard, because this is my primary drive.</p>

  <div class="term">
        <code class="prompt">user@debian:~$</code> <code class="command">mkdir /media/j<mount_point_name></code><br>
        <div>
      </div>
  </div>

  <p>I then open <code>/etc/fstab</code> in a text editor in order to assign my primary drive to the mount point <code>/media/j</code>.</p>
  <div class="term">
      <code class="prompt">user@debian:~$</code> <code class="command">sudo vi /etc/fstab</code><br>
      <div>
      </div>
  </div>


  <p>Then I add the following line. I have color the UUID, mount point, and file system type are in red because they will be different for different drives.
  <div class="term">
    <code class="command">UUID=<font color="red">ED9E-45B7</font> /media/<font color="red">j</font> <font color="red">vfat</font> auto,nofail,user,umask=0000 0 0</code>
    <div>
    </div>
  </div>
  
<p>In order to determine the UUID of a drive the following command can be used. Unfortunately, if multiple drives are available to the system, it can be difficult to tell which UUID is assigned to which drive. I generally run the command with the drive plugged in, run it again after removing the drive, and see which UUID disappears.</p>
  <div class="term">
      <code class="prompt">user@debian:~$</code> <code class="command">ls /dev/disk/by-uuid</code><br>
      <div>
      </div>
  </div>

  <p>If vim is installed it can be used, as shown below, to check the UUID of drives. Unlike using <code>ls</code>, vim shows which UUID is associated with which device.</p>
    <div class="term">
      <code class="prompt">user@debian:~$</code> <code class="command">vi /dev/disk/by-uuid</code><br>
      <div>
      </div>
    </div>
    <br><br><br>


    <h3>Audio System</h3>
    <p>There is nothing surprising about my audio system. I just use <a href="https://www.freedesktop.org/wiki/Software/PulseAudio/">PulseAudio</a> (the alsa-utils package was also needed). PulseAudio requires about 96 megabytes of space and alsa-utils only uses a few kilobytes. I installed them with apt-get, as shown below, and I do not think that any configuration was required.</p>

    <div class="term">
      <code class="prompt">user@debian:~$</code> <code class="command">sudo apt-get install pulseaudio</code><br>
      <code class="prompt">user@debian:~$</code> <code class="command">sudo apt-get install alsa-utils</code><br>
      <div>
      </div>
    </div>
    <br><br><br>


    <h3>Numlockx</h3>
<p>By default, <a href="https://en.wikipedia.org/wiki/Num_Lock">Num Lock</a> is disabled every time Debian boots. I do not know why that is considered a good default. It was especially inconvenient for me, because I use the numeric keypad to control the system volume via alsamixer. If Num Lock is disabled, pressing a key on the numeric keypad closes alsamixer. When trying to change the volume, it is annoying when the alsamixer closes.</p>
<p>I installed the <a href="https://software.opensuse.org/package/numlockx">numlockx</a> package which enables Num Lock by default. It can also be used to turn Num Lock on or off.</p>
    <div class="term">
      <code class="prompt">user@debian:~$</code> <code class="command">dsudo apt-get install numlockx</code><br>
      <div>
      </div>
    </div>
    <br><hr>







      <h2>Scripts</h2>
<p>I have written a number of scripts that complete useful functions for me. They can be downloaded <a href="downloads/operating_systems/1/scripts.tar.gz">here</a>. I am hesitant to call them scripts, because most of them only run one-line commands. I store all of them in <code>/bin</code> because dmenu will not run files that are anywhere else, even if they are in my <code>$PATH</code>.</p>
<p>When I need to execute a command often, I sometimes write a one letter script that executes it. This is convenient, especially because I can easily run in from dmenu (dmenu does not prove TAB-auto-complete with multipart command such as commands that require <code>sudo</code>, options, or other arguments).

      <h3>m</h3>
<p>I have to mount external drives quite often, so I have written a script called <code>m</code> that mounts everything in <code>/etc/fstab</code>. If simply runs the command <code>sudo mount -a</code>.</p>
      <div class="term">
	      <div>
		      <code>#!/bin/sh</code><br>
		      <br>
		      <code>sudo mount -a</code>
	      </div>
      </div>

      <h3>u</h3>
      <p>I have created a script called <code>u</code> in order to easily unmount everything in my <code>/media</code> directory. This is useful because I generally only mount one external drive at a time, so I can unmount any drive with this command. I could just type <code>sudo umount /media/*</code> instead, but just typing <code>u</code> is faster.</p>
      <div class="term">
	      <div>
		      <code>#!/bin/sh</code><br>
		      <br>
		      <code>sudo umount /media/*</code>
	      </div>
      </div>
      
      <h3>remove-git-credentials</h3>
      
<p>As mentioned below, I have installed Android Studio this year because I need it for <a href="https://en.wikipedia.org/wiki/FIRST_Tech_Challenge">FIRST Tech Challenge</a>. My FIRST Tech Challenge team has a GitHub page that I must push commits to through Android Studio. That is separate from my personal GitHub page, to which I push commits on a weekly basis.</p>
<p>Previously, I would remember the passwords of both accounts and use the appropriate one depending on what I was pushing. Then, GitHub decided that it would no longer allow me to use passwords, and it instead forced be to use automatically generated tokens.</p>
<p>I was not going to memorize and type those tokens, so I attempted to automate the process. I used git from the command-line to push changes to my account, and I used git within Android Studio to push changes to my team's account. Therefore, I assigned a token for my personal account to the git credential helper, and I stored the team token within Android Studio.</p>
<p>However, git always overrode Android Studio and forced it to attempt to use my personal token. Therefore, I needed a convenient way to turn off the git credential helper when I was pushing with Android Studio. That is what this script, <code>remove-git-credentials</code>, does. I also have a script called <code>configure-git-credentials</code> that does the opposite task.</p>
      <div class="term">
	      <div>
		      <code>#!/bin/sh</code><br>
		      <br>
		      <code>git config --global --unset credential.helper</code>
	      </div>
      </div>



      <h3>configure-git-credentials</h3>

      <p>This script activates the git credential helper. The reason why it is useful is documented in the section regarding the <code>remove-git-credentials</code> script, which is shown above.</p>

      <div class="term">
	      <div>
		      <code>#!/bin/sh</code><br>
		      <br>
		      <code>git config --global credential.helper store</code><br>
	      </div>
      </div>

            <h3>v</h3>
	    <p>I use <code>alsamixer</code> to control my system volume, which is something that I have to do very often. Because I have to open <code>alsamixer</code> often, it is inconvenient to open an new terminal window, type <code>alsamixer</code>, and press enter. Therefore, I have created a script called <code>v</code> that opens <code>alsamixer</code>. Consequently, I can simply type <code>v</code> into dmenu  in order to open <code>alsamixer</code>.</p>
      <div class="term">
	      <div>
		      <code>#!/bin/sh</code><br>
		      <br>
		      <code>mlterm -e alsamixer</code>
	      </div>
      </div>

      <h3>l</h3>
      <p>The purpose of this script is to activate <code>i3lock</code> quickly and with a black rather than white background.</p>
      <div class="term">
	      <div>
		      <code>#!/bin/sh</code><br>
		      <br>
		      <code>i3lock -c 000000</code>
	      </div>
      </div>

<h3>andriod-studio</h3>
<p>I needed to install Android Studio this year because I am on a <a href="https://en.wikipedia.org/wiki/FIRST_Tech_Challenge">FIRST Tech Challenge</a> team. (Because of the pandemic, I am working on the team's software remotely.) Android Studio, which is an obnoxiously huge program created by Google, was not in the Debian repository, so I had to down load and install it myself. It did not add itself to my <code>$PATH</code>, so I initially had no proper way of starting it (it was probably expecting some sort of graphical applications menu). Therefore, I wrote this tiny script called <code>android-studio</code> that simply starts the program. That allows me to start Android Studio from dmenu.</p>
      <div class="term">
	      <div>
		      <code>#!/bin/sh</code><br>
		      <br>
		      <code>exec /opt/android-studio/bin/studio.sh</code>
	      </div>
      </div>
      
      <h3>fixzoom</h3>
      <p>Because of <a href="https://en.wikipedia.org/wiki/FIRST_Tech_Challenge">FIRST Tech Challenge</a>, I have had to use <a href="https://en.wikipedia.org/wiki/Zoom_(software)">Zoom</a> quite frequently (although I do not recommend it). In order for the White Board or Annotation features to work, I had to install <code>xcompmgr</code>. If I need to use either of the before mentioned Zoom features, I must first run <code>xcompmgr -c -l0 -t0 -r0 -o.00</code>, otherwise, I am presented with a black screen and cannot see what I am drawing. The command changes the back of my desktop from black to gray until I reboot. I am not exactly sure what it does, but I put it in a script called <code>fixzoom</code> so that I do not need to remember the full command and associated arguments.</p>
      <div class="term">
	      <div>
		      <code>#!/bin/sh</code><br>
		      <br>
		      <code>xcompmgr -c -l0 -t0 -r0 -o.00</code>
	      </div>
      </div>
      <br><hr>


      <h2>Applications That I Use and Like</h2>
      <p>Coming soon. . .</p>
      <h2>Applications That I Use and Dislike</h2>
      <p>Coming soon. . .</p>
      <h2>Applications That I May Begin Using in the Future</h2>
      <p>Coming soon. . .</p>
   </div>
</body>
</html>
